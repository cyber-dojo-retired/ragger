
image_name = 'cyberdojofoundation/ruby_test_unit'
id = '111111'
files = {
  "cyber-dojo.sh" => 'ruby ./run-traffic-light.rb',
  "traffic-light.rb" => SOURCE_EXPOSED_IN_BROWSER,
  "stdout" => stdout,
  "stderr" => stderr,
  "status" => status,
  "run-traffic-light.rb" =>
    <<~RUBY
    rag = eval(IO.read('traffic-light.rb'))
    stdout = IO.read('stdout')
    stderr = IO.read('stderr')
    status = IO.read('status')
    print rag.call(stdout, stderr, status)
    RUBY
}
max_seconds = 5
result = runner.run_cyber_dojo_sh(image_name, id, files, max_seconds)
rgb = result['stdout']['content'].strip


def get_rag_lambda_src(image_name, id)
  files = { 'cyber-dojo.sh' => 'cat /usr/local/bin/red_amber_green.rb' }
  max_seconds = 5
  result = runner.run_cyber_dojo_sh(image_name, id, files, max_seconds)
  result['stdout']['content']
end
